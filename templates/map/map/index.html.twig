{% extends 'base.html.twig' %}

{% block title %}Carte du Japon
{% endblock %}

{% block importmap %}
	{{ importmap(['app', 'map' ]) }}
{% endblock %}

{% block stylesheets %}
    {# base.html.twig styles block #}
    {{ parent() }}
				<!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <!-- Leaflet cluster -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
{% endblock %}

{% block javascripts %}
    {# base.html.twig JS block #}
    {{ parent() }}
    <!-- Leaflet script -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
     <!-- leaflet cluster script -->
     <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
{% endblock %}

{% block body %}
	<main>
    {# Hero and title #}
		<section class="hero_map text-center d-flex align-items-center justify-content-center container-fluid">
			<h1 class="text-white hero_title title text-center">Carte du Japon</h1>
		</section>
    <section class="container">
			<div class="flux">
				<h2 class="text-center text-primary pt-4 pb-2 fs-3 fw-bold">À la rencontre du Japon et ses joyaux</h2>
				<p class="text-center fs-5">Explorez facilement les points d'intérêt autour de vous sur notre carte interactive. Cliquez sur chaque emplacement pour plus d'informations et des itinéraires.
				</p>
			</div>
    </section>
        {# Search filters map.js #}
      <section class="container flux mt-5 mb-5">
        <div class="mb-3 d-block bg-primary bg-gradient p-2 col-lg-5 col-md-7 col-sm-12">
            <h2 class="text-white">Filtres de recherche</h2>
            <div class="d-flex">
                <div class="bg-warning d-flex align-items-center filter-box bg-gradient text-light p-1 fs-5">
                    <input type="checkbox" id="cities" class="form-check" checked>
                    <label for="cities" class="ms-2 text-black">Villes</label>
                </div>
                <div class="filter-box d-flex align-items-center bg-warning bg-gradient text-white p-1 ms-3 fs-5">
                    <input type="checkbox" id="castles" class="form-check" checked>
                    <label for="castles" class="ms-2 text-black">Châteaux</label>
                </div>
            </div>
        </div>
        <!-- SCRIPT map.js  -->
        <div id="map" class="map"></div>
    </section>
	</main>
     <!-- MODAL map -->
         <div class="modal fade" id="mapModal" tabindex="-1" aria-labelledby="mapModal" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header bg-primary bg-gradient">
                  <h1 class="modal-title text-white fs-5" id="markerModalTitle"</h1> 
                  <button type="button" class="btn-close bg-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex">
                    <img id="markerModalImage" src="" alt="Image" class="img-fluid w-50 " />
                    <p id="markerModalDescription" class="mb-4 ms-4 fw-bold fs-5"></p> 
                </div>
                <div class="modal-footer bg-primary">
                  <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Fermer</button>
                </div>
              </div>
            </div>
          </div> 
{% endblock %}
