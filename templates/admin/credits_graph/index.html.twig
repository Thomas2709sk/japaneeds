{% extends 'base.html.twig' %}

{% block title %}Crédits
{% endblock %}

{% block importmap %}
	{{ importmap(['app', 'graphSelect', 'creditsGraph' ]) }}
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
{% endblock %}

{% block body %}

	<div class="container-fluid wrapper">
		<div class="row">
			{% include "_partials/_adminav.html.twig" %}

			{# Burger offcanvas mobile #}
			<div class="col-12 d-flex d-md-none align-items-center bg-dark py-2">
				<button class="btn btn-outline-light ms-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#adminOffcanvas" aria-controls="adminOffcanvas">
					<i class="fa fa-bars fs-4"></i>
				</button>
				<span class="text-white ms-3 fs-5">Menu admin</span>
			</div>

			{# Offcanvas menu mobile #}
			{% include "_partials/_offcanvas_adminav.html.twig" %}
			<main class="col-9 border border-light bg-light p-2">
				<h1>Nombre de crédits</h1>

				<select
					id="monthSelector"><!-- Options dynamiquement ajoutées via JS -->
				</select>

				<div
					id="creditsChartsContainer">{# Les graphes seront ajoutés ici dynamiquement #}
				</div>

				<div id="totalGlobalCredits" class="mt-3 fw-bold fs-5 text-success"></div>
				<divclass="fs-4"><p><b>Total des crédits :</b> {{ credits_total }}</p</div>

			</main>
		</div>
	</div>
{% endblock %}
